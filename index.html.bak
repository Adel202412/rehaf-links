<!doctype html>

<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>REHAF — Links v2.2</title>
  <meta name="description" content="Minimal links hub with info." />
  <meta property="og:title" content="REHAF — Links v2.2" />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#00453e" />
  <link rel="icon" href="/assets/mascot.png" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/mascot.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --bg1:#00ab9a; --bg2:#00786c; --accent:#00453e; --ink:#fff; --faq:#227976 }
    body{ background:linear-gradient(160deg,var(--bg1),var(--bg2)); color:var(--ink); font-size:19px }
    .card{ background:var(--accent); border:1.2px solid var(--accent); color:var(--ink) }
    .btn{ background:rgba(255,255,255,.08); border:1.6px solid var(--accent) }
    .btn:hover{ background:rgba(255,255,255,.15) }
    .disabled{ opacity:.55; pointer-events:none; filter:grayscale(.3) }
    .badge{ font-size:.75em; padding:.15em .55em; border:1px solid #ffffff40; border-radius:.6rem }/* FAQ bubble */
.rehaf-faq-launcher,.rehaf-faq-panel{ position:fixed; right:18px; z-index:2147483647 }
.rehaf-faq-launcher{ bottom:18px; display:flex; align-items:center; gap:8px; text-decoration:none }
.rehaf-faq-avatar{ width:52px; height:52px; border-radius:50%; background:#00453e; display:grid; place-items:center; overflow:hidden; box-shadow:0 10px 28px rgba(0,0,0,.28) }
.rehaf-faq-avatar img{ width:100%; height:100%; object-fit:cover }
.rehaf-faq-label{ background:#fff; color:#00453e; font-weight:700; font-size:12px; border-radius:999px; padding:6px 10px; box-shadow:0 6px 18px rgba(0,0,0,.12) }

.rehaf-faq-panel{ bottom:84px; width:360px; max-height:72vh; display:none; flex-direction:column; background:#fff; border-radius:14px; overflow:hidden; box-shadow:0 18px 44px rgba(0,0,0,.28); border:1px solid #e9ecef }
.rehaf-faq-header{ background:#00453e; color:#fff; padding:10px 12px; font-weight:700; display:flex; align-items:center; justify-content:space-between; line-height:1 }
.rehaf-faq-body{ padding:10px; font-size:14px; color:#0f2d29; overflow:auto; flex:1 }
.rehaf-faq-close{ background:transparent; border:0; color:#fff; font-size:16px; cursor:pointer }

.q-item{ border:1px solid var(--faq); border-radius:10px; padding:8px 10px; margin:8px 0; background:#f8fffd; cursor:pointer; display:flex; align-items:center; gap:8px }
.q-item:hover{ background:#f2fbf8 }
.q-dot{ width:8px; height:8px; border-radius:999px; background:var(--faq); opacity:.85 }
.answer{ border:1px solid var(--faq); border-radius:12px; padding:10px 12px; background:#f8fffd; white-space:pre-wrap; line-height:1.35 }
.faq-actions{ display:flex; gap:8px; margin-top:10px }
.faq-actions button{ border:1px solid var(--faq); background:#ffffff; color:#0f2d29; padding:7px 10px; border-radius:10px; font-weight:600; cursor:pointer }
.faq-actions button:hover{ background:#f2fbf8 }

  </style>
</head>
<body class="min-h-screen antialiased">
  <main class="mx-auto max-w-2xl px-5 py-8 flex flex-col items-center gap-6">
    <div class="w-56 md:w-72"><img src="/assets/mascot.png" alt="Mascot" class="rounded-2xl shadow-lg mx-auto" loading="lazy" /></div>
    <h1 class="text-6xl font-black tracking-wide">REHAF</h1><div class="w-full flex justify-end">
  <button id="langToggle" class="btn rounded-xl px-3 py-2 text-sm">EN / AR</button>
</div>

<section class="card rounded-2xl p-4 text-center w-full">
  <p id="welcomeText" class="text-base md:text-lg"></p>
</section>

<p class="text-sm md:text-base text-center opacity-90 max-w-xl">
  By continuing, you agree that your request may be processed automatically and securely stored for service quality purposes.
</p>

<div id="links" class="mt-2 grid gap-3 w-full"></div>

<section class="card rounded-2xl p-4 w-full">
  <h2 class="text-lg font-bold mb-2">
    <span id="vacTitle"></span>: <span id="todayDate" class="ml-1 text-base opacity-90"></span>
  </h2>
  <ul id="vacList" class="space-y-2"></ul>
  <p id="vacEmpty" class="text-sm opacity-90"></p>
</section>

<div class="mt-6 border-t border-white/30 pt-4 text-sm opacity-90 flex flex-col items-center gap-2 w-full">
  <p>© <span id="year"></span> REHAF.</p>
  <a id="email" href="mailto:Adel.alsoufi.90@gmail.com" class="underline underline-offset-4">Adel.alsoufi.90@gmail.com</a>
</div>

  </main>  <!-- ===== App logic ===== -->  <script>
    const CONFIG = {
      version: "v2.2",
      links: [
        { key:"apply_job",   url:"https://forms.gle/hCTbFxT2b1V8CE2i7", info:"Apply to join REHAF.", icon:"📄" },
        { key:"hire_req",    url:"https://forms.gle/ut62zpkXB2kXNLqb6", info:"Request hiring for your business.", icon:"🧑\u200d💼" },
        { key:"consult_req", url:"https://forms.gle/ZfVrurQazxT8z7xL7", info:"Consultant/Other service request.", icon:"📝" },
        { key:"auto_soon",   url:"", info:"Automation Service — Coming Soon.", icon:"⚙️", soon:true },
        // NEW in v2.2 — Company Setup Guide card (same style as others)
        { key:"setup_guide", url:"/setup-business", info:"Start your business step-by-step.", icon:"🏢" }
      ],
      vacancies:{ items:[] },
      i18n:{
        en:{
          welcome:"Welcome to REHAF. Use the buttons below to request services or apply.",
          vacTitle:"Vacancies open for today",
          vacEmpty:"No vacancies available at the moment.",
          links:{
            apply_job:{ label:"Apply for a Job" },
            hire_req:{ label:"Hiring Service Request" },
            consult_req:{ label:"Other Service Request (Consultant Service)" },
            auto_soon:{ label:"Automation Service (Soon)" },
            setup_guide:{ label:"Company Setup Guide (Abu Dhabi)" }
          }
        },
        ar:{
          welcome:"مرحبًا بكم في REHAF. استخدم الأزرار أدناه لطلب الخدمات أو التقديم.",
          vacTitle:"الوظائف المتاحة اليوم",
          vacEmpty:"لا توجد وظائف متاحة حالياً.",
          links:{
            apply_job:{ label:"التقدم لوظيفة" },
            hire_req:{ label:"طلب خدمة التوظيف" },
            consult_req:{ label:"طلب خدمة أخرى (استشارات)" },
            auto_soon:{ label:"خدمة الأتمتة (قريبًا)" },
            setup_guide:{ label:"دليل تأسيس شركة (أبوظبي)" }
          }
        }
      }
    };

    const $ = s => document.querySelector(s);
    const state = { lang: localStorage.getItem('rehaf_lang') || 'en' };
    document.documentElement.setAttribute('dir', state.lang==='ar'?'rtl':'ltr');

    const DUBAI_TZ = 'Asia/Dubai';

    function todayFormatted(lang){
      const now = new Date();
      const opts = { day:'2-digit', month:'2-digit', year:'numeric', timeZone:DUBAI_TZ };
      return new Intl.DateTimeFormat(lang==='ar'?'ar-EG':'en-GB', opts).format(now);
    }

    async function loadVacancies(){
      try{
        const res = await fetch('/vacancies.json?v='+Date.now());
        if(!res.ok) throw 0;
        const data = await res.json();
        CONFIG.vacancies.items = Array.isArray(data.items) ? data.items : [];
      }catch{ CONFIG.vacancies.items = []; }
    }

    function t(path){
      const parts = path.split('.'); let curr = CONFIG.i18n[state.lang];
      for(const k of parts){ if(!curr) break; curr = curr[k]; } return curr || path;
    }

    function render(){
      document.documentElement.setAttribute('dir', state.lang==='ar'?'rtl':'ltr');
      $('#year').textContent = new Date().getFullYear();
      $('#welcomeText').textContent = t('welcome');

      const wrap = $('#links'); wrap.innerHTML = '';
      CONFIG.links.forEach(l=>{
        const a = document.createElement('a');
        a.href = l.url || '#'; a.target = l.url && l.url.startsWith('http') ? '_blank' : '';
        a.className = 'btn rounded-2xl p-4 block transition';
        const label = t(`links.${l.key}.label`);
        const soonBadge = l.soon ? `<span class="badge ml-2">${state.lang==='ar'?'قريبًا':'Soon'}</span>`:'';
        a.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-xl grid place-items-center text-xl bg-white/10">${l.icon||'🔗'}</div>
            <div class="flex-1">
              <div class="font-semibold text-xl">${label} ${soonBadge}</div>
              <div class="text-base opacity-90">${l.info||''}</div>
            </div>
          </div>`;
        if(l.soon){ a.classList.add('disabled'); a.removeAttribute('href'); }
        wrap.appendChild(a);
      });

      $('#vacTitle').textContent = t('vacTitle');
      $('#todayDate').textContent = todayFormatted(state.lang);

      const list = $('#vacList'); list.innerHTML='';
      if(CONFIG.vacancies.items?.length){
        $('#vacEmpty').textContent = '';
        CONFIG.vacancies.items.forEach(v=>{
          const title = state.lang==='ar' ? (v.title_ar||v.title_en) : (v.title_en||v.title_ar);
          const meta  = state.lang==='ar' ? (v.meta_ar||'')       : (v.meta_en||'');
          list.insertAdjacentHTML('beforeend', `
            <li><div class="flex items-center gap-2">
              <span class="opacity-80">-</span>
              <span class="text-base">${title}</span>
              <span class="text-sm opacity-70 ml-auto">${meta}</span>
            </div></li>`);
        });
      }else{
        $('#vacEmpty').textContent = t('vacEmpty');
      }
    }

    loadVacancies().then(render);

    $('#langToggle').addEventListener('click', () => {
      state.lang = (state.lang === 'en') ? 'ar' : 'en';
      localStorage.setItem('rehaf_lang', state.lang);
      render();
      window.rehafFaqRender?.(); // refresh FAQ if open
    });
  </script>  <!-- ===== FAQ Bubble (static, no typing) ===== -->  <a class="rehaf-faq-launcher" id="faqBtn" href="#" aria-label="Open FAQ chat">
    <span class="rehaf-faq-avatar"><img src="/assets/mascot.png" alt="Chat mascot"></span>
    <span class="rehaf-faq-label">FAQ Chat</span>
  </a>  <div class="rehaf-faq-panel" id="faqPanel" role="dialog" aria-modal="true" aria-label="REHAF Assistant — FAQ">
    <div class="rehaf-faq-header">
      <span id="faqTitle">REHAF Assistant — FAQ</span>
      <button class="rehaf-faq-close" id="faqClose">✕</button>
    </div>
    <div class="rehaf-faq-body" id="faqBody"></div>
  </div>  <script>
    // --- FAQ content (EN / AR) ---
    const FAQ = {
      en: {
        title: "REHAF Assistant — FAQ",
        back: "Back to FAQ",
        close: "Close",
        list: [
          ["What is REHAF?",
`REHAF is a Business Solution Provider. We help with consultancy,
recruitment, management, cost analysis, business plans, design, AI automation,
and **customized solutions** for growth.`],
          ["What services does REHAF provide?",
`Our main service is **customizing solutions** for clients: hiring & recruitment,
project setup/design, and AI automation/digital solutions.`],
          ["How does pricing work?",
`Pricing depends on service type and customization. Some services may be free.
Start by filling the **Business Consultancy** form; we’ll contact you.`],
          ["Where can I apply for a job?",
`Fill the **Apply for a Job** form. Vacancies are shown at the bottom of the page.`],
          ["What vacancies are available today?",
`Vacancies (if any) are listed in **Vacancies open for today** on this page.`],
          ["How can I request hiring for my business?",
`Use the **Hiring Service Request** form; our team will contact you.`],
          ["How can I request a business consultancy?",
`Use the **Other Service Request (Consultant Service)** form and we’ll reach out.`],
          ["How long does hiring take?",
`It depends on applicants. Sometimes 5 minutes, up to 48 hours maximum.`],
          ["How can I contact REHAF?",
`Email: lilafutum@gmail.com. We’ll call after reviewing your request.`],
        ]
      },
      ar: {
        title: "مساعد REHAF — الأسئلة الشائعة",
        back: "الرجوع إلى الأسئلة",
        close: "إغلاق",
        list: [
          ["ما هي REHAF؟",
`REHAF هي مزود حلول أعمال. نساعد في الاستشارات والتوظيف والإدارة
وتحليل التكاليف وخطط الأعمال والتصميم وأتمتة الذكاء الاصطناعي
وحلول **مخصصة** للنمو.`],
          ["ما الخدمات التي تقدمها REHAF؟",
`خدمتنا الأساسية هي **تخصيص الحلول** للعملاء: التوظيف،
تأسيس/تصميم المشاريع، وحلول الأتمتة الرقمية.`],
          ["كيف تعمل سياسة الأسعار؟",
`الأسعار تعتمد على نوع الخدمة ومستوى التخصيص. بعض الخدمات قد تكون مجانية.
ابدأ بتعبئة نموذج **الاستشارة** وسنتواصل معك.`],
          ["أين يمكنني التقديم على وظيفة؟",
`عبّئ نموذج **التقدم لوظيفة**. تُعرض الوظائف في أسفل الصفحة.`],
          ["ما الوظائف المتاحة اليوم؟",
`إن وُجدت وظائف فستظهر في قسم **الوظائف المتاحة اليوم** في هذه الصفحة.`],
          ["كيف أطلب خدمة التوظيف لشركتي؟",
`استخدم نموذج **طلب خدمة التوظيف** وسيتواصل الفريق معك.`],
          ["كيف أطلب استشارة أعمال؟",
`استخدم نموذج **طلب خدمة أخرى (استشارات)** وسنتواصل معك.`],
          ["كم يستغرق التوظيف؟",
`يعتمد على المتقدمين. أحيانًا 5 دقائق وحتى 48 ساعة كحد أقصى.`],
          ["كيف أتواصل مع REHAF؟",
`البريد: lilafutum@gmail.com — سنتصل بك بعد مراجعة طلبك.`],
        ]
      }
    };

    const faqPanel = document.getElementById('faqPanel');
    const faqBody  = document.getElementById('faqBody');
    const faqTitle = document.getElementById('faqTitle');
    const faqBtn   = document.getElementById('faqBtn');
    const faqClose = document.getElementById('faqClose');

    const getLang = () => localStorage.getItem('rehaf_lang') || 'en';

    function renderFaqList(){
      const lang = getLang();
      const dict = FAQ[lang];
      faqTitle.textContent = dict.title;
      faqBody.innerHTML = '';
      dict.list.forEach(([q, _a], i) => {
        const row = document.createElement('div');
        row.className = 'q-item';
        row.innerHTML = `<span class="q-dot"></span><span>${q}</span>`;
        row.addEventListener('click', () => renderFaqAnswer(i));
        faqBody.appendChild(row);
      });
    }

    function renderFaqAnswer(idx){
      const lang = getLang();
      const dict = FAQ[lang];
      const [q, a] = dict.list[idx];
      faqTitle.textContent = dict.title;
      faqBody.innerHTML = `
        <div class="answer"><strong>${q}</strong>\n\n${a}</div>
        <div class="faq-actions">
          <button id="backFaq">${dict.back} ←</button>
          <button id="closeFaq">${dict.close}</button>
        </div>
      `;
      document.getElementById('backFaq').onclick  = renderFaqList;
      document.getElementById('closeFaq').onclick = () => faqPanel.style.display='none';
    }

    function openFaq(e){ if(e) e.preventDefault(); faqPanel.style.display='flex'; renderFaqList(); }
    function closeFaq(){ faqPanel.style.display='none'; }

    faqBtn.addEventListener('click', openFaq, { passive:false });
    faqClose.addEventListener('click', closeFaq);

    // Expose re-render hook so main toggle can refresh questions text live
    window.rehafFaqRender = () => {
      if (faqPanel.style.display === 'flex') renderFaqList();
    };
  </script></body>
</html>
